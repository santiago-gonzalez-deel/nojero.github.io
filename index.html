<html>

<head>
  <meta charset="utf8" />
  <link href="style.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
  <div class="page">
    <div class="data">
      <div class="words_container">
        <div class="word_item">
          <div class="word">
          </div>
          <div class="number">
            1
          </div>
        </div>
        <div class="word_item">
          <div class="word">
          </div>
          <div class="number">
            2
          </div>
        </div>
        <div class="word_item">
          <div class="word">
          </div>
          <div class="number">
            3
          </div>
        </div>
        <div class="word_item">
          <div class="word">
          </div>
          <div class="number">
            4
          </div>
        </div>
      </div>
      <div class="codes_container">
        <div class="code_item">
          <div class="code show" data-turn="1">
          </div>
          <div class="number">
            1
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="2">
          </div>
          <div class="number">
            2
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="3">
          </div>
          <div class="number">
            3
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="4">
          </div>
          <div class="number">
            4
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="5">
          </div>
          <div class="number">
            5
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="6">
          </div>
          <div class="number">
            6
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="7">
          </div>
          <div class="number">
            7
          </div>
        </div>
        <div class="code_item">
          <div class="code" data-turn="8">
          </div>
          <div class="number">
            8
          </div>
        </div>
      </div>
    </div>
    <div class="metadata">
      <div class="turn">
        Turno: <span id="turn">1</span>
      </div>
      <div class="button-container">
        <button id="next">Siguiente turno</button>
      </div>
      <div class="button-container">
        <button id="new">Nuevo Juego</button>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    $("#next").click(() => {
      let turn = parseInt($("#turn").html());
      if (turn == 8) {
        alert("No hay más turnos, el juego terminó");
      } else if (confirm("Seguro que desea avanzar de turno?")) {
        $("#turn").html(turn + 1);
        $(".code").each(function () {
          let val = $(this).data("turn");
          if (val <= turn + 1) {
            $(this).addClass("show");
          }
        });
      }
    });
    $("#new").click(() => {
      window.location.href = "/new";
    });
  </script>
</body>